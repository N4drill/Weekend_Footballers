<div class="container">
  <h1>Players in your city:</h1>

  <div *ngFor="let usersArray of allArrays">
  <h3>{{usersArray.name}}: </h3> 
  <mat-card *ngFor="let userMap of usersArray.usersMap">
    <div class="row px-4 py-2">
      <img [src]="userMap.photo ? userMap.photo : '../../assets/avatar_placeholder.png'" alt="avatar" class="img avatar-mini">
      <span class="my-auto ml-4">{{userMap.user.name}}</span>
      <ngb-rating class="my-auto ml-auto mr-4" [(rate)]="userMap.user.rating" [starTemplate]="startemplate" [readonly]="true"
        max="5"></ngb-rating>
      <span class="my-auto mr-4" style="min-width: 5vw; width: 7vw; text-align: end;"><b>{{userMap.user.position}}</b></span>
    </div>
  </mat-card>
</div>

  
<ng-template #startemplate let-fill="fill" let-index="index">
  <span class="star" [class.filled]="fill === 100" [class.bad]="index < 3">&#9733;</span>
</ng-template>